# è§†é¢‘ä¸å›¾æ–‡å†…å®¹ç®¡ç†ç³»ç»Ÿ - æ•°æ®åº“è®¾è®¡è¯´æ˜

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯´æ˜äº†è§†é¢‘ä¸å›¾æ–‡å†…å®¹ç®¡ç†ä¸åˆ†å‘å¹³å°çš„æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡ï¼Œå…±åŒ…å« **14å¼ æ ¸å¿ƒä¸šåŠ¡è¡¨**ã€‚

æ‰€æœ‰è¡¨åç»Ÿä¸€ä»¥ `t_` å¼€å¤´ï¼Œç¬¦åˆè§„èŒƒå‘½åçº¦å®šã€‚

## ğŸ—‚ï¸ è¡¨ç»“æ„æ¸…å•

### 1ï¸âƒ£ åŸºç¡€é…ç½®æ¨¡å—ï¼ˆ3å¼ è¡¨ï¼‰

#### 1. t_material_category - ç´ æåˆ†ç±»ä¿¡æ¯è¡¨
ç»Ÿä¸€ç®¡ç†è§†é¢‘å’Œå›¾æ–‡ç´ æçš„åˆ†ç±»ä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `category_code`: åˆ†ç±»ç¼–ç ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
- `category_name`: åˆ†ç±»åç§°
- `category_type`: åˆ†ç±»ç±»å‹ï¼ˆ1-è§†é¢‘åˆ†ç±»/2-å›¾æ–‡åˆ†ç±»ï¼‰
- `parent_id`: çˆ¶çº§åˆ†ç±»IDï¼ˆæ”¯æŒå¤šçº§åˆ†ç±»ï¼‰
- `sort_order`: æ’åºé¡ºåº
- `icon`: åˆ†ç±»å›¾æ ‡
- `description`: åˆ†ç±»æè¿°
- `status`: çŠ¶æ€ï¼ˆç¦ç”¨/å¯ç”¨ï¼‰

**ç‰¹ç‚¹ï¼š**
- æ”¯æŒè§†é¢‘å’Œå›¾æ–‡åˆ†ç±»åˆ†åˆ«ç®¡ç†
- æ”¯æŒå¤šçº§åˆ†ç±»ç»“æ„ï¼ˆé€šè¿‡parent_idï¼‰
- åˆ†ç±»ç¼–ç åœ¨åŒä¸€ç§Ÿæˆ·ä¸‹å”¯ä¸€ï¼ˆè”åˆå”¯ä¸€ç´¢å¼•ï¼‰

#### 2. t_tag_group - æ ‡ç­¾ç»„ä¿¡æ¯è¡¨
ç®¡ç†æ ‡ç­¾ç»„ä¿¡æ¯ï¼Œæ ‡ç­¾ç»„é‡‡ç”¨æšä¸¾æ–¹å¼ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `group_code`: æ ‡ç­¾ç»„ç¼–ç 
- `group_name`: æ ‡ç­¾ç»„åç§°
- `group_type`: æ ‡ç­¾ç»„ç±»å‹ï¼ˆvideo_material-è§†é¢‘ç´ ææ ‡ç­¾ç»„/image_material-å›¾æ–‡ç´ ææ ‡ç­¾ç»„ï¼‰
- `sort_order`: æ’åºé¡ºåº
- `description`: æ ‡ç­¾ç»„æè¿°
- `status`: çŠ¶æ€

**ç‰¹ç‚¹ï¼š**
- æ ‡ç­¾ç»„é‡‡ç”¨æšä¸¾æ–¹å¼ï¼Œæ”¯æŒæ‰©å±•
- ä¸åŒä¸šåŠ¡æ¨¡å—æœ‰ç‹¬ç«‹çš„æ ‡ç­¾ç»„
- ä¾¿äºæ ‡ç­¾çš„åˆ†ç±»ç®¡ç†

#### 3. t_tag - æ ‡ç­¾ä¿¡æ¯è¡¨
ç®¡ç†å…·ä½“çš„æ ‡ç­¾ä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `tag_code`: æ ‡ç­¾ç¼–ç ï¼ˆå”¯ä¸€æ ‡è¯†ï¼Œä¸šåŠ¡è¡¨é€šè¿‡æ­¤å­—æ®µå…³è”ï¼‰
- `tag_name`: æ ‡ç­¾åç§°
- `tag_group_id`: æ ‡ç­¾ç»„ID
- `tag_color`: æ ‡ç­¾é¢œè‰²
- `sort_order`: æ’åºé¡ºåº
- `description`: æ ‡ç­¾æè¿°
- `status`: çŠ¶æ€

**ç‰¹ç‚¹ï¼š**
- æ ‡ç­¾ç¼–ç åœ¨åŒä¸€ç§Ÿæˆ·ä¸‹å”¯ä¸€
- å…³è”æ ‡ç­¾ç»„å®ç°åˆ†ç±»ç®¡ç†
- æ”¯æŒè‡ªå®šä¹‰æ ‡ç­¾é¢œè‰²
- ä¸šåŠ¡è¡¨é€šè¿‡tag_codeå…³è”æ ‡ç­¾

---

### 2ï¸âƒ£ ç´ æç®¡ç†æ¨¡å—ï¼ˆ3å¼ è¡¨ï¼‰

#### 4. t_video_material - è§†é¢‘ç´ æè¡¨
å­˜å‚¨è§†é¢‘ç´ æçš„åŸºæœ¬ä¿¡æ¯å’Œå…ƒæ•°æ®ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `material_name`: è§†é¢‘åç§°
- `file_url`: è§†é¢‘æ–‡ä»¶URL
- `file_size`: æ–‡ä»¶å¤§å°
- `duration`: è§†é¢‘æ—¶é•¿
- `cover_url`: å°é¢å›¾URL
- `category_id`: åˆ†ç±»IDï¼ˆå…³è”t_material_categoryè¡¨ï¼‰
- `tag_codes`: æ ‡ç­¾ç¼–ç ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”
- `permission_type`: æƒé™è®¾ç½®
- `status`: çŠ¶æ€ï¼ˆè‰ç¨¿/æ­£å¸¸/å·²ä¸‹æ¶ï¼‰

#### 5. t_image_material - å›¾æ–‡ç´ æè¡¨
å­˜å‚¨å›¾æ–‡å†…å®¹ç´ æçš„ä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `title`: å›¾æ–‡æ ‡é¢˜
- `cover_url`: å°é¢å›¾URL
- `content`: å›¾æ–‡å†…å®¹
- `category_id`: åˆ†ç±»IDï¼ˆå…³è”t_material_categoryè¡¨ï¼‰
- `tag_codes`: æ ‡ç­¾ç¼–ç ï¼Œå¤šä¸ªç”¨é€—å·åˆ†éš”
- `permission_type`: æƒé™è®¾ç½®
- `status`: çŠ¶æ€ï¼ˆè‰ç¨¿/å·²å‘å¸ƒ/å®¡æ ¸ä¸­/å·²ä¸‹æ¶ï¼‰

**å˜æ›´è¯´æ˜ï¼š**
- å·²ç§»é™¤ `platform_type` å­—æ®µï¼ˆå‘å¸ƒå¹³å°ä¿¡æ¯åœ¨å‘å¸ƒä»»åŠ¡ä¸­ç®¡ç†ï¼‰
- å·²ç§»é™¤ `location` å­—æ®µï¼ˆåœ°ç†ä½ç½®ä¸ä½œä¸ºç´ æå±æ€§ï¼‰

#### 6. t_material_image - ç´ æå›¾ç‰‡å…³è”è¡¨
å­˜å‚¨å›¾æ–‡ç´ æçš„å¤šå¼ å†…å®¹å›¾ç‰‡ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `material_id`: å…³è”çš„å›¾æ–‡ç´ æID
- `image_url`: å›¾ç‰‡URL
- `sort_order`: æ’åºé¡ºåº

---

### 3ï¸âƒ£ è´¦å·ç®¡ç†æ¨¡å—ï¼ˆ2å¼ è¡¨ï¼‰

#### 7. t_account_group - å¹³å°è´¦å·åˆ†ç»„ä¿¡æ¯è¡¨
ç®¡ç†å¹³å°è´¦å·çš„åˆ†ç»„ä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `group_code`: åˆ†ç»„ç¼–ç 
- `group_name`: åˆ†ç»„åç§°
- `sort_order`: æ’åºé¡ºåº
- `description`: åˆ†ç»„æè¿°
- `status`: çŠ¶æ€

**ç‰¹ç‚¹ï¼š**
- æ”¯æŒçµæ´»çš„è´¦å·åˆ†ç»„ç®¡ç†
- åˆ†ç»„ç¼–ç åœ¨åŒä¸€ç§Ÿæˆ·ä¸‹å”¯ä¸€

#### 8. t_platform_account - å¹³å°è´¦å·ç®¡ç†è¡¨
ç®¡ç†å„ä¸ªç¤¾äº¤åª’ä½“å¹³å°çš„è´¦å·ä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `account_no`: è´¦å·ID/ç¼–å·
- `nickname`: è´¦å·æ˜µç§°
- `platform_type`: å¹³å°ç±»å‹ï¼ˆæŠ–éŸ³/å°çº¢ä¹¦/å¿«æ‰‹/å¾®åš/å¾®ä¿¡å…¬ä¼—å·ï¼‰
- `group_id`: æ‰€å±åˆ†ç»„IDï¼ˆå…³è”t_account_groupè¡¨ï¼‰
- `fans_count`: ç²‰ä¸æ•°
- `status`: çŠ¶æ€ï¼ˆå·²æ‰çº¿/æ­£å¸¸/è¿è§„ï¼‰
- `bind_time`: ç»‘å®šæ—¶é—´
- `auth_token`: è®¤è¯Tokenä¿¡æ¯
- `permission_config`: æƒé™é…ç½®JSON

**å˜æ›´è¯´æ˜ï¼š**
- æ–°å¢ `group_id` å­—æ®µï¼Œå…³è”è´¦å·åˆ†ç»„
- æ–°å¢ `auth_token` å­—æ®µï¼Œå­˜å‚¨å¹³å°è®¤è¯ä¿¡æ¯

---

### 4ï¸âƒ£ å‘å¸ƒä¸­å¿ƒæ¨¡å—ï¼ˆ1å¼ è¡¨ï¼‰

#### 9. t_publish_task - å‘å¸ƒä»»åŠ¡è¡¨
ç®¡ç†å›¾æ–‡å’Œè§†é¢‘çš„å‘å¸ƒä»»åŠ¡åŠæ•°æ®ç»Ÿè®¡ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `task_no`: ä»»åŠ¡ç¼–å·
- `task_type`: ä»»åŠ¡ç±»å‹ï¼ˆ1-å›¾æ–‡å‘å¸ƒ/2-è§†é¢‘å‘å¸ƒï¼‰
- `material_id`: ç´ æID
- `platform_type`: å‘å¸ƒå¹³å°
- `account_id`: å‘å¸ƒè´¦å·ID
- `plan_publish_time`: è®¡åˆ’å‘å¸ƒæ—¶é—´
- `actual_publish_time`: å®é™…å‘å¸ƒæ—¶é—´
- `status`: çŠ¶æ€ï¼ˆå¾…å‘å¸ƒ/å‘å¸ƒä¸­/å·²æˆåŠŸ/å·²å¤±è´¥ï¼‰
- `platform_content_id`: å¹³å°å†…å®¹ID
- `view_count`: æµè§ˆé‡
- `like_count`: ç‚¹èµæ•°
- `comment_count`: è¯„è®ºæ•°
- `share_count`: åˆ†äº«æ•°
- `collect_count`: æ”¶è—æ•°
- `last_comment_time`: æœ€æ–°è¯„è®ºæ—¶é—´

**å˜æ›´è¯´æ˜ï¼š**
- å·²ç§»é™¤ `account_name` å­—æ®µï¼ˆé€šè¿‡account_idå…³è”è·å–ï¼‰
- æ–°å¢æ•°æ®ç»Ÿè®¡å­—æ®µï¼šæµè§ˆé‡ã€ç‚¹èµæ•°ã€è¯„è®ºæ•°ã€åˆ†äº«æ•°ã€æ”¶è—æ•°
- æ–°å¢ `last_comment_time` å­—æ®µï¼Œè®°å½•æœ€æ–°è¯„è®ºæ—¶é—´

---

### 5ï¸âƒ£ äº¤äº’ç®¡ç†æ¨¡å—ï¼ˆ4å¼ è¡¨ï¼‰

#### 10. t_comment - è¯„è®ºç®¡ç†è¡¨
ç®¡ç†æ¥è‡ªå„å¹³å°çš„è¯„è®ºä¿¡æ¯ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `account_id`: æ‰€å±è´¦å·ID
- `publish_task_id`: å…³è”çš„å‘å¸ƒä»»åŠ¡ID
- `platform_content_id`: å¹³å°å†…å®¹ID
- `comment_user_name`: è¯„è®ºç”¨æˆ·æ˜µç§°
- `comment_content`: è¯„è®ºå†…å®¹
- `comment_time`: è¯„è®ºæ—¶é—´
- `has_sensitive_word`: æ˜¯å¦åŒ…å«æ•æ„Ÿè¯
- `status`: çŠ¶æ€ï¼ˆå¾…å¤„ç†/å·²å›å¤/å·²å¿½ç•¥/å·²åˆ é™¤ï¼‰
- `reply_content`: å›å¤å†…å®¹
- `reply_time`: å›å¤æ—¶é—´

**å˜æ›´è¯´æ˜ï¼š**
- å·²ç§»é™¤ `account_name` å­—æ®µï¼ˆé€šè¿‡account_idå…³è”è·å–ï¼‰
- å·²ç§»é™¤ `content_title` å­—æ®µï¼ˆé€šè¿‡publish_task_idå…³è”è·å–ï¼‰
- æ–°å¢ `publish_task_id` å­—æ®µï¼Œå…³è”å‘å¸ƒä»»åŠ¡

#### 11. t_private_message - ç§ä¿¡ç®¡ç†è¡¨
ç®¡ç†ç§ä¿¡æ¶ˆæ¯è®°å½•ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `account_id`: æ‰€å±è´¦å·ID
- `user_name`: ç”¨æˆ·æ˜µç§°
- `user_id`: ç”¨æˆ·ID
- `message_type`: æ¶ˆæ¯ç±»å‹ï¼ˆæ¥æ”¶/å‘é€ï¼‰
- `content_type`: å†…å®¹ç±»å‹ï¼ˆæ–‡æœ¬/å›¾ç‰‡/æ–‡ä»¶ï¼‰
- `message_content`: æ¶ˆæ¯å†…å®¹
- `send_time`: å‘é€æ—¶é—´
- `is_read`: æ˜¯å¦å·²è¯»

**å˜æ›´è¯´æ˜ï¼š**
- å·²ç§»é™¤ `account_name` å­—æ®µï¼ˆé€šè¿‡account_idå…³è”è·å–ï¼‰
- å·²ç§»é™¤ `session_id` å­—æ®µï¼ˆé€šè¿‡user_idå’Œaccount_idç»„åˆæ ‡è¯†ä¼šè¯ï¼‰
- æ–°å¢ `user_id` å­—æ®µï¼Œç”¨äºæ ‡è¯†ç”¨æˆ·

#### 12. t_lead - çº¿ç´¢æ”¶é›†è¡¨
æ”¶é›†å’Œç®¡ç†æ½œåœ¨å®¢æˆ·çº¿ç´¢ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `lead_no`: çº¿ç´¢ç¼–å·
- `user_name`: ç”¨æˆ·æ˜µç§°
- `phone`: æ‰‹æœºå·
- `wechat_id`: å¾®ä¿¡å·
- `source_type`: æ¥æºæ¸ é“ï¼ˆè¯„è®º/ç§ä¿¡/è¡¨å•ï¼‰
- `source_account_name`: æ¥æºè´¦å·åç§°
- `collect_time`: æ”¶é›†æ—¶é—´
- `follow_status`: è·Ÿè¿›çŠ¶æ€ï¼ˆæ–°çº¿ç´¢/è·Ÿè¿›ä¸­/å·²è½¬åŒ–/æ— æ•ˆï¼‰
- `is_synced_crm`: æ˜¯å¦å·²åŒæ­¥åˆ°CRM

#### 13. t_lead_follow_record - çº¿ç´¢è·Ÿè¿›è®°å½•è¡¨
è®°å½•çº¿ç´¢çš„è·Ÿè¿›å†å²ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `lead_id`: çº¿ç´¢ID
- `follow_content`: è·Ÿè¿›å†…å®¹
- `follow_result`: è·Ÿè¿›ç»“æœ
- `next_follow_time`: ä¸‹æ¬¡è·Ÿè¿›æ—¶é—´

---

### 6ï¸âƒ£ ç³»ç»Ÿé…ç½®æ¨¡å—ï¼ˆ1å¼ è¡¨ï¼‰

#### 14. t_sensitive_word - æ•æ„Ÿè¯é…ç½®è¡¨
é…ç½®è¯„è®ºå’Œç§ä¿¡çš„æ•æ„Ÿè¯è¿‡æ»¤ã€‚

**æ ¸å¿ƒå­—æ®µï¼š**
- `word`: æ•æ„Ÿè¯
- `word_type`: æ•æ„Ÿè¯ç±»å‹
- `status`: çŠ¶æ€

---

## ğŸ”‘ æ ‡å‡†å­—æ®µè¯´æ˜

æ¯ä¸ªè¡¨éƒ½åŒ…å«ä»¥ä¸‹æ ‡å‡†å­—æ®µï¼Œç”¨äºå®¡è®¡å’Œå¤šç§Ÿæˆ·ç®¡ç†ï¼š

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| `creator` | varchar(64) | åˆ›å»ºäºº |
| `create_time` | datetime | åˆ›å»ºæ—¶é—´ |
| `updater` | varchar(64) | æ›´æ–°äºº |
| `update_time` | datetime | æ›´æ–°æ—¶é—´ |
| `deleted` | bit(1) | åˆ é™¤æ ‡è¯†ï¼ˆè½¯åˆ é™¤ï¼‰ |
| `tenant_id` | bigint | ç§Ÿæˆ·IDï¼ˆå¤šç§Ÿæˆ·éš”ç¦»ï¼‰ |

## ğŸ“Š ç´¢å¼•è®¾è®¡

### ä¸»é”®ç´¢å¼•
- æ‰€æœ‰è¡¨éƒ½ä½¿ç”¨ `id` ä½œä¸ºä¸»é”®ï¼Œè‡ªå¢é•¿

### å”¯ä¸€ç´¢å¼•
- `t_material_category.category_code` + `tenant_id` - åˆ†ç±»ç¼–ç 
- `t_tag_group.group_code` + `tenant_id` - æ ‡ç­¾ç»„ç¼–ç 
- `t_tag.tag_code` + `tenant_id` - æ ‡ç­¾ç¼–ç 
- `t_account_group.group_code` + `tenant_id` - è´¦å·åˆ†ç»„ç¼–ç 
- `t_publish_task.task_no` - å‘å¸ƒä»»åŠ¡ç¼–å·
- `t_lead.lead_no` - çº¿ç´¢ç¼–å·

### æ™®é€šç´¢å¼•
1. **å¤šç§Ÿæˆ·ç´¢å¼•**ï¼šæ‰€æœ‰è¡¨éƒ½æœ‰ `tenant_id` ç´¢å¼•
2. **ä¸šåŠ¡æŸ¥è¯¢ç´¢å¼•**ï¼š
   - æ—¶é—´å­—æ®µï¼ˆ`create_time`, `publish_time`, `comment_time` ç­‰ï¼‰
   - çŠ¶æ€å­—æ®µï¼ˆ`status`ï¼‰
   - å…³è”å­—æ®µï¼ˆ`account_id`, `material_id`, `group_id` ç­‰ï¼‰
   - åˆ†ç±»å­—æ®µï¼ˆ`category_id`, `platform_type` ç­‰ï¼‰

## ğŸ”— è¡¨å…³ç³»è¯´æ˜

### æ ¸å¿ƒå…³è”å…³ç³»

```
t_tag_group (æ ‡ç­¾ç»„)
    â””â”€â†’ t_tag (æ ‡ç­¾)

t_material_category (ç´ æåˆ†ç±»)
    â”œâ”€â†’ t_video_material (è§†é¢‘ç´ æ)
    â””â”€â†’ t_image_material (å›¾æ–‡ç´ æ)

t_account_group (è´¦å·åˆ†ç»„)
    â””â”€â†’ t_platform_account (å¹³å°è´¦å·)

t_platform_account (è´¦å·)
    â”œâ”€â†’ t_publish_task (å‘å¸ƒä»»åŠ¡)
    â”œâ”€â†’ t_comment (è¯„è®º)
    â”œâ”€â†’ t_private_message (ç§ä¿¡)
    â””â”€â†’ t_lead (çº¿ç´¢)

t_video_material (è§†é¢‘ç´ æ)
    â””â”€â†’ t_publish_task (å‘å¸ƒä»»åŠ¡)

t_image_material (å›¾æ–‡ç´ æ)
    â”œâ”€â†’ t_material_image (å…³è”å›¾ç‰‡)
    â””â”€â†’ t_publish_task (å‘å¸ƒä»»åŠ¡)

t_publish_task (å‘å¸ƒä»»åŠ¡)
    â””â”€â†’ t_comment (è¯„è®º)

t_lead (çº¿ç´¢)
    â””â”€â†’ t_lead_follow_record (è·Ÿè¿›è®°å½•)
```

### ä¸€å¯¹å¤š (1:N) å…³ç³»

| ä¸»è¡¨ | ä»è¡¨ | å…³ç³»è¯´æ˜ |
|------|------|----------|
| `t_tag_group` | `t_tag` | ä¸€ä¸ªæ ‡ç­¾ç»„åŒ…å«å¤šä¸ªæ ‡ç­¾ |
| `t_material_category` | `t_video_material` | ä¸€ä¸ªåˆ†ç±»å¯ä»¥æœ‰å¤šä¸ªè§†é¢‘ç´ æ |
| `t_material_category` | `t_image_material` | ä¸€ä¸ªåˆ†ç±»å¯ä»¥æœ‰å¤šä¸ªå›¾æ–‡ç´ æ |
| `t_account_group` | `t_platform_account` | ä¸€ä¸ªåˆ†ç»„åŒ…å«å¤šä¸ªè´¦å· |
| `t_video_material` | `t_publish_task` | ä¸€ä¸ªè§†é¢‘ç´ æå¯ä»¥æœ‰å¤šä¸ªå‘å¸ƒä»»åŠ¡ |
| `t_image_material` | `t_material_image` | ä¸€ä¸ªå›¾æ–‡ç´ æåŒ…å«å¤šå¼ å›¾ç‰‡ |
| `t_image_material` | `t_publish_task` | ä¸€ä¸ªå›¾æ–‡ç´ æå¯ä»¥æœ‰å¤šä¸ªå‘å¸ƒä»»åŠ¡ |
| `t_platform_account` | `t_publish_task` | ä¸€ä¸ªè´¦å·å¯ä»¥æœ‰å¤šä¸ªå‘å¸ƒä»»åŠ¡ |
| `t_platform_account` | `t_comment` | ä¸€ä¸ªè´¦å·ä¸‹æœ‰å¤šæ¡è¯„è®º |
| `t_platform_account` | `t_private_message` | ä¸€ä¸ªè´¦å·ä¸‹æœ‰å¤šæ¡ç§ä¿¡ |
| `t_platform_account` | `t_lead` | ä¸€ä¸ªè´¦å·å¯ä»¥æ”¶é›†å¤šä¸ªçº¿ç´¢ |
| `t_publish_task` | `t_comment` | ä¸€ä¸ªå‘å¸ƒä»»åŠ¡å¯ä»¥æœ‰å¤šæ¡è¯„è®º |
| `t_lead` | `t_lead_follow_record` | ä¸€ä¸ªçº¿ç´¢æœ‰å¤šæ¡è·Ÿè¿›è®°å½• |

### å¤šå¯¹ä¸€ (N:1) å…³ç³»

ä¸Šè¿° 1:N å…³ç³»çš„åå‘å³ä¸º N:1 å…³ç³»

---

## ğŸ’¡ è®¾è®¡ç‰¹ç‚¹

### 1. ç»Ÿä¸€è¡¨åå‰ç¼€
- æ‰€æœ‰è¡¨åä»¥ `t_` å¼€å¤´
- ç¬¦åˆè§„èŒƒå‘½åçº¦å®š
- ä¾¿äºè¯†åˆ«å’Œç®¡ç†

### 2. æ ‡ç­¾ç³»ç»Ÿ
- ç‹¬ç«‹çš„æ ‡ç­¾ç»„å’Œæ ‡ç­¾è¡¨
- æ ‡ç­¾ç»„é‡‡ç”¨æšä¸¾æ–¹å¼ï¼Œæ”¯æŒæ‰©å±•
- ä¸šåŠ¡è¡¨é€šè¿‡ `tag_codes` å­—æ®µå…³è”æ ‡ç­¾ç¼–ç 
- æ”¯æŒä¸€ä¸ªå¯¹è±¡æ‰“å¤šä¸ªæ ‡ç­¾

### 3. åˆ†ç»„ç®¡ç†
- ç´ æåˆ†ç±»æ”¯æŒå¤šçº§åˆ†ç±»
- è´¦å·æ”¯æŒåˆ†ç»„ç®¡ç†
- æ ‡ç­¾æ”¯æŒåˆ†ç»„ç®¡ç†

### 4. æ•°æ®é›†æˆ
- å‘å¸ƒä»»åŠ¡è¡¨é›†æˆæ•°æ®ç»Ÿè®¡åŠŸèƒ½
- è¯„è®ºè¡¨å…³è”å‘å¸ƒä»»åŠ¡
- å–æ¶ˆç‹¬ç«‹çš„æ•°æ®ç»Ÿè®¡è¡¨ï¼Œä»ä¸šåŠ¡è¡¨ä¸­ç»Ÿè®¡

### 5. å¤šç§Ÿæˆ·æ”¯æŒ
- æ‰€æœ‰è¡¨éƒ½åŒ…å« `tenant_id` å­—æ®µ
- æ”¯æŒ SaaS æ¨¡å¼çš„æ•°æ®éš”ç¦»

### 6. è½¯åˆ é™¤æœºåˆ¶
- ä½¿ç”¨ `deleted` å­—æ®µå®ç°è½¯åˆ é™¤
- ä¿ç•™å†å²æ•°æ®ï¼Œä¾¿äºæ•°æ®æ¢å¤å’Œå®¡è®¡

### 7. å®¡è®¡åŠŸèƒ½
- `creator` / `create_time` è®°å½•æ•°æ®åˆ›å»ºä¿¡æ¯
- `updater` / `update_time` è®°å½•æ•°æ®æ›´æ–°ä¿¡æ¯

### 8. è®¤è¯ä¿¡æ¯å­˜å‚¨
- å¹³å°è´¦å·è¡¨æ”¯æŒå­˜å‚¨è®¤è¯Token
- ä½¿ç”¨ TEXT ç±»å‹æ”¯æŒé•¿Tokenå­˜å‚¨

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å¯¼å…¥æ•°æ®åº“

```bash
# MySQL å‘½ä»¤è¡Œå¯¼å…¥
mysql -u username -p database_name < database_schema.sql

# æˆ–ä½¿ç”¨å¯è§†åŒ–å·¥å…·ï¼ˆå¦‚ Navicatã€DBeaverï¼‰ç›´æ¥æ‰§è¡Œ SQL æ–‡ä»¶
```

### å­—ç¬¦é›†è¯´æ˜
- æ•°æ®åº“å­—ç¬¦é›†ï¼š`utf8mb4`
- æ’åºè§„åˆ™ï¼š`utf8mb4_0900_ai_ci`
- æ”¯æŒå­˜å‚¨ emoji ç­‰ç‰¹æ®Šå­—ç¬¦

### å­˜å‚¨å¼•æ“
- ä½¿ç”¨ InnoDB å­˜å‚¨å¼•æ“
- æ”¯æŒäº‹åŠ¡å’Œå¤–é”®çº¦æŸ

---

## ğŸ”„ æ•°æ®æµè½¬ç¤ºä¾‹

### å‘å¸ƒæµç¨‹
1. åˆ›å»ºç´ æ â†’ `t_video_material` æˆ– `t_image_material`
2. é€‰æ‹©è´¦å· â†’ `t_platform_account`
3. åˆ›å»ºå‘å¸ƒä»»åŠ¡ â†’ `t_publish_task`
4. å‘å¸ƒæˆåŠŸåæ•°æ®ç›´æ¥æ›´æ–°åˆ° `t_publish_task` è¡¨

### çº¿ç´¢æ”¶é›†æµç¨‹
1. ç”¨æˆ·è¯„è®º â†’ `t_comment`
2. è¯†åˆ«æ„å‘å®¢æˆ· â†’ åˆ›å»º `t_lead`
3. è·Ÿè¿›è®°å½• â†’ `t_lead_follow_record`
4. åŒæ­¥CRM â†’ æ›´æ–° `t_lead.is_synced_crm`

### æ ‡ç­¾ä½¿ç”¨æµç¨‹
1. åˆ›å»ºæ ‡ç­¾ç»„ â†’ `t_tag_group`
2. åœ¨æ ‡ç­¾ç»„ä¸‹åˆ›å»ºæ ‡ç­¾ â†’ `t_tag`
3. ç´ æå…³è”æ ‡ç­¾ â†’ åœ¨ `tag_codes` å­—æ®µä¸­å­˜å‚¨æ ‡ç­¾ç¼–ç 

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- SQLæ–‡ä»¶ï¼š`database_schema.sql`
- åŸå‹é¡µé¢ï¼š`é¡µé¢å¯¼èˆª.html`

---

**ç‰ˆæœ¬**: v2.0  
**ç”Ÿæˆæ—¶é—´**: 2025-10-03  
**æ•°æ®åº“ç±»å‹**: MySQL 8.0+  
**è¡¨æ•°é‡**: 14å¼ 
